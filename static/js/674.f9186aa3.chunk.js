"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[674],{214:function(e,t,n){n.d(t,{S:function(){return s}});var r="ButtonMore_button__YPyE-",a=n(184),s=function(e){var t=e.onLoadMore;return(0,a.jsx)("button",{onClick:t,className:r,children:(0,a.jsx)("p",{children:"NEXT"})})}},674:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(861),a=n(885),s=n(757),u=n.n(s),c=n(596),o=n(791),i=n(731),p=n(689),f=n(427),l=n(776),h=n(214),d="HomePage_conteiner__hIL2K",m="HomePage_list__99c8-",v="HomePage_item__PHN05",_="HomePage_info__oqKMc",g=n(184),x=function(){var e=(0,o.useState)([]),t=(0,a.Z)(e,2),n=t[0],s=t[1],x=(0,o.useState)(1),w=(0,a.Z)(x,2),y=w[0],k=w[1],b=(0,o.useState)(null),Z=(0,a.Z)(b,2),j=Z[0],N=Z[1],S=(0,o.useState)(!1),P=(0,a.Z)(S,2),H=P[0],M=P[1],L=(0,o.useState)(20),q=(0,a.Z)(L,2),z=q[0],C=q[1],E=(0,p.TH)();(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(u().mark((function e(){var t,n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,(0,f.yz)(y);case 4:if(t=e.sent,n=t.results,r=t.total_pages,console.log("response",t),s(n),C(t.total_results),a=Math.ceil(r/20),0!==t.results.length){e.next=13;break}return c.Am.info("No images found. Please submit another query!"),e.abrupt("return");case 13:y===a&&(0,c.Am)("You've reached the end of search results."),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),N("Ooops. Something went wrong...");case 19:return e.prev=19,M(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]);var A=0!==n.length,B=n.length===z,K=A&&!H&&!B;return A&&(0,g.jsxs)("div",{className:d,children:[j&&alert(j.message),(0,g.jsxs)("ul",{className:m,children:[H&&(0,g.jsx)(l.a,{}),n.map((function(e){var t=e.id,n=e.title,r=e.poster_path,a=e.release_date,s=e.vote_average,u=e.original_title;return(0,g.jsxs)("li",{className:v,children:[(0,g.jsx)("p",{children:s}),(0,g.jsxs)(i.rU,{to:"/movie/".concat(t),state:{from:E},children:[(0,g.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(r),alt:u})," "]}),(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("h1",{children:n}),(0,g.jsx)("p",{children:a})]})]},t)}))]}),K&&(0,g.jsx)(h.S,{onLoadMore:function(){k((function(e){return e+1}))}}),(0,g.jsx)(p.j3,{})]})}},427:function(e,t,n){n.d(t,{BG:function(){return l},Fz:function(){return d},X:function(){return p},sv:function(){return v},yz:function(){return o}});var r=n(861),a=n(757),s=n.n(a),u=n(388),c="a1426f875d9b25aa0fd82fb82639d8ae";function o(e){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("trending/movie/week",{params:{api_key:c,total_pages:20,page:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=(0,r.Z)(s().mark((function e(t){var n,r,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,(0,u.Z)("search/movie",{params:{api_key:c,total_pages:20,page:n,query:"".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t),{params:{api_key:c}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/credits"),{params:{api_key:c}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(s().mark((function e(t,n,r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/reviews"),{params:{api_key:c,results:[],page:1}});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.Z.defaults.baseURL="https://api.themoviedb.org/3/"}}]);
//# sourceMappingURL=674.f9186aa3.chunk.js.map