"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[674],{214:function(e,t,r){r.d(t,{S:function(){return s}});var n="ButtonMore_button__YPyE-",a=r(184),s=function(e){var t=e.onLoadMore;return(0,a.jsx)("button",{onClick:t,className:n,children:(0,a.jsx)("p",{children:"NEXT"})})}},674:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(861),a=r(885),s=r(757),u=r.n(s),c=r(596),o=r(791),i=r(731),p=r(689),f=r(427),l=r(776),h=r(214),d="HomePage_conteiner__hIL2K",m="HomePage_list__99c8-",v="HomePage_item__PHN05",_="HomePage_info__oqKMc",x=r(184),g=function(){var e=(0,o.useState)([]),t=(0,a.Z)(e,2),r=t[0],s=t[1],g=(0,o.useState)(1),w=(0,a.Z)(g,2),y=w[0],k=w[1],b=(0,o.useState)(null),Z=(0,a.Z)(b,2),j=Z[0],N=Z[1],S=(0,o.useState)(!1),P=(0,a.Z)(S,2),H=P[0],M=P[1],L=(0,o.useState)(20),q=(0,a.Z)(L,2),z=q[0],C=q[1],E=(0,p.TH)();(0,o.useEffect)((function(){var e=function(){var e=(0,n.Z)(u().mark((function e(){var t,r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,(0,f.yz)(y);case 4:if(t=e.sent,r=t.results,n=t.total_pages,console.log("response",t),s(r),C(t.total_results),a=Math.ceil(n/20),0!==t.results.length){e.next=13;break}return c.Am.info("No images found. Please submit another query!"),e.abrupt("return");case 13:y===a&&(0,c.Am)("You've reached the end of search results."),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),N("Ooops. Something went wrong...");case 19:return e.prev=19,M(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]);var A=0!==r.length,B=r.length===z,K=A&&!H&&!B;return A&&(0,x.jsxs)("div",{className:d,children:[j&&alert(j.message),(0,x.jsxs)("ul",{className:m,children:[H&&(0,x.jsx)(l.a,{}),r.map((function(e){var t=e.id,r=e.title,n=e.poster_path,a=e.release_date,s=e.vote_average,u=e.original_title;return(0,x.jsxs)("li",{className:v,children:[(0,x.jsx)("p",{children:s}),(0,x.jsxs)(i.rU,{to:"/movie/".concat(t),state:{from:E},children:[(0,x.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(n),alt:u})," "]}),(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)("h1",{children:r}),(0,x.jsx)("p",{children:a})]})]},t)}))]}),K&&(0,x.jsx)(h.S,{onLoadMore:function(){k((function(e){return e+1}))}}),(0,x.jsx)(p.j3,{})]})}},427:function(e,t,r){r.d(t,{BG:function(){return l},Fz:function(){return d},X:function(){return p},sv:function(){return v},yz:function(){return o}});var n=r(861),a=r(757),s=r.n(a),u=r(388),c="a1426f875d9b25aa0fd82fb82639d8ae";function o(e){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("trending/movie/week",{params:{api_key:c,total_pages:20,page:t}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("search/movie",{params:{api_key:c,total_pages:20,page:1,query:"".concat(t)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t),{params:{api_key:c}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/credits"),{params:{api_key:c}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,r){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(s().mark((function e(t,r,n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/reviews"),{params:{api_key:c,results:[],page:1}});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.Z.defaults.baseURL="https://api.themoviedb.org/3/"}}]);
//# sourceMappingURL=674.218c77dd.chunk.js.map