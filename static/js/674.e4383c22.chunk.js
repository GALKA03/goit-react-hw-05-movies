"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[674],{214:function(e,t,n){n.d(t,{S:function(){return s}});var r="ButtonMore_button__YPyE-",a=n(184),s=function(e){var t=e.onLoadMore;return(0,a.jsx)("button",{onClick:t,className:r,children:(0,a.jsx)("p",{children:"NEXT"})})}},772:function(e,t,n){n.d(t,{W:function(){return c}});var r=n(885),a=n(791),s="ScrollUpBtn_btn__gQZOR",u=n(184),c=function(){var e=(0,a.useState)(!1),t=(0,r.Z)(e,2),n=t[0],c=t[1];(0,a.useEffect)((function(){window.addEventListener("scroll",(function(){window.scrollY>100?c(!0):c(!1)}))}),[]);return(0,u.jsx)(u.Fragment,{children:n&&(0,u.jsx)("button",{className:s,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"^"})})}},674:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(861),a=n(885),s=n(757),u=n.n(s),c=n(791),o=n(731),i=n(689),p=n(427),l=n(776),f=n(214),h=n(973),d="HomePage_conteiner__hIL2K",v="HomePage_list__99c8-",m="HomePage_item__PHN05",_="HomePage_info__oqKMc",x=n(772),g=n(184),w=function(){var e=(0,c.useState)([]),t=(0,a.Z)(e,2),n=t[0],s=t[1],w=(0,c.useState)(1),b=(0,a.Z)(w,2),y=b[0],j=b[1],k=(0,c.useState)(null),Z=(0,a.Z)(k,2),S=Z[0],N=Z[1],P=(0,c.useState)(!1),H=(0,a.Z)(P,2),M=H[0],E=H[1],L=(0,c.useState)(0),C=(0,a.Z)(L,2),q=C[0],z=C[1],B=(0,i.TH)();(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(u().mark((function e(){var t,n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,(0,p.yz)(y);case 4:if(t=e.sent,n=t.results,r=t.total_pages,s(n),z(t.total_results),a=Math.ceil(r/20),0!==t.results.length){e.next=12;break}return alert("No images found. Please submit another query!"),e.abrupt("return");case 12:y===a&&alert("You've reached the end of search results."),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),N("Ooops. Something went wrong...");case 18:return e.prev=18,E(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]);var T=0!==n.length,U=n.length===q,Y=T&&!M&&!U;return T&&(0,g.jsxs)("div",{className:d,children:[S&&alert(S.message),(0,g.jsxs)("ul",{className:v,children:[M&&(0,g.jsx)(l.a,{}),n.map((function(e){var t=e.id,n=e.title,r=e.poster_path,a=e.release_date,s=e.vote_average,u=e.original_title;return(0,g.jsxs)("li",{className:m,children:[(0,g.jsx)("p",{children:s}),(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)(o.rU,{to:"/movie/".concat(t),state:{from:B},children:null!==r?(0,g.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(r),alt:u}):(0,g.jsx)("img",{src:h,alt:u})}),(0,g.jsx)("h1",{children:n}),(0,g.jsx)("p",{children:a})]})]},t)})),(0,g.jsx)(x.W,{})]}),Y&&(0,g.jsx)(f.S,{onLoadMore:function(){j((function(e){return e+1}))}}),(0,g.jsx)(i.j3,{})]})}},427:function(e,t,n){n.d(t,{BG:function(){return f},Fz:function(){return d},X:function(){return p},sv:function(){return m},yz:function(){return o}});var r=n(861),a=n(757),s=n.n(a),u=n(388),c="a1426f875d9b25aa0fd82fb82639d8ae";function o(e){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("trending/movie/week",{params:{api_key:c,total_pages:20,page:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(s().mark((function e(t){var n,r,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,(0,u.Z)("search/movie",{params:{api_key:c,total_pages:20,page:n,query:"".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t),{params:{api_key:c}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/credits"),{params:{api_key:c}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(s().mark((function e(t,n,r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/reviews"),{params:{api_key:c,results:[],page:1}});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.Z.defaults.baseURL="https://api.themoviedb.org/3/"},973:function(e,t,n){e.exports=n.p+"static/media/noIMG.8dc6ad4feeb2b37bb540.jpg"}}]);
//# sourceMappingURL=674.e4383c22.chunk.js.map