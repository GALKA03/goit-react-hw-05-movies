"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[674],{214:function(e,t,r){r.d(t,{S:function(){return s}});var n="ButtonMore_button__YPyE-",a=r(184),s=function(e){var t=e.onLoadMore;return(0,a.jsx)("button",{onClick:t,className:n,children:(0,a.jsx)("p",{children:"NEXT"})})}},674:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(861),a=r(885),s=r(757),u=r.n(s),c=r(791),i=r(731),o=r(689),p=r(427),l=r(776),f=r(214),h="HomePage_conteiner__hIL2K",d="HomePage_list__99c8-",v="HomePage_item__PHN05",m="HomePage_info__oqKMc",_=r(184),x=function(){var e=(0,c.useState)([]),t=(0,a.Z)(e,2),r=t[0],s=t[1],x=(0,c.useState)(1),g=(0,a.Z)(x,2),w=g[0],y=g[1],k=(0,c.useState)(null),b=(0,a.Z)(k,2),Z=b[0],j=b[1],N=(0,c.useState)(!1),S=(0,a.Z)(N,2),P=S[0],H=S[1],M=(0,c.useState)(0),L=(0,a.Z)(M,2),q=L[0],z=L[1],C=(0,o.TH)();(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)(u().mark((function e(){var t,r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,(0,p.yz)(w);case 4:if(t=e.sent,r=t.results,n=t.total_pages,s(r),z(t.total_results),a=Math.ceil(n/20),0!==t.results.length){e.next=12;break}return alert("No images found. Please submit another query!"),e.abrupt("return");case 12:w===a&&alert("You've reached the end of search results."),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),j("Ooops. Something went wrong...");case 18:return e.prev=18,H(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(){return e.apply(this,arguments)}}();e()}),[w]);var E=0!==r.length,B=r.length===q,K=E&&!P&&!B;return E&&(0,_.jsxs)("div",{className:h,children:[Z&&alert(Z.message),(0,_.jsxs)("ul",{className:d,children:[P&&(0,_.jsx)(l.a,{}),r.map((function(e){var t=e.id,r=e.title,n=e.poster_path,a=e.release_date,s=e.vote_average,u=e.original_title;return(0,_.jsxs)("li",{className:v,children:[(0,_.jsx)("p",{children:s}),(0,_.jsxs)("div",{className:m,children:[(0,_.jsxs)(i.rU,{to:"/movie/".concat(t),state:{from:C},children:[(0,_.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(n),alt:u})," "]}),(0,_.jsx)("h1",{children:r}),(0,_.jsx)("p",{children:a})]})]},t)}))]}),K&&(0,_.jsx)(f.S,{onLoadMore:function(){y((function(e){return e+1}))}}),(0,_.jsx)(o.j3,{})]})}},427:function(e,t,r){r.d(t,{BG:function(){return f},Fz:function(){return d},X:function(){return p},sv:function(){return m},yz:function(){return i}});var n=r(861),a=r(757),s=r.n(a),u=r(388),c="a1426f875d9b25aa0fd82fb82639d8ae";function i(e){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("trending/movie/week",{params:{api_key:c,total_pages:20,page:t}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return l=(0,n.Z)(s().mark((function e(t){var r,n,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,(0,u.Z)("search/movie",{params:{api_key:c,total_pages:20,page:r,query:"".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t),{params:{api_key:c}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/credits"),{params:{api_key:c}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,r){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(s().mark((function e(t,r,n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("movie/".concat(t,"/reviews"),{params:{api_key:c,results:[],page:1}});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.Z.defaults.baseURL="https://api.themoviedb.org/3/"}}]);
//# sourceMappingURL=674.3e1e8656.chunk.js.map